# Tools configuration
tools:
  compression:
    enabled: true  # Enable context compression by default
    max_context_tokens: 16000  # Start compressing above this
    target_context_tokens: 12000  # Target this many tokens after compression
    recent_messages_keep: 10  # Always keep this many recent messages
    strategy: "semantic"  # "truncation", "semantic", or "summary"
    min_content_length: 200  # Minimum content length to compress
    preserve_system_prompt_cache: true  # Cache system prompt

# MCP servers configuration
mcp_servers:
  # Local math MCP server (mcp_server.py) - stdio transport
  math:
    description: "Math operations MCP server (stdio)"
    transport: "stdio"
    command: "python"
    args:
      - "-m"
      - "aisbot.mcp_server"

  # HTTP-based math MCP server (mcp_http_server.py) - streamable-http transport
  # NOTE: HTTP transport is currently not working due to header compatibility issues
  # between streamable_http_client and FastMCP server. Use stdio transport instead.
  # To enable, uncomment below and start the server with: python -m aisbot.mcp_http_server
  math_http:
    description: "Math operations via HTTP server"
    transport: "http"
    url: "http://127.0.0.1:8000/mcp"
